<html>
  <head>
    <script src='http://code.jquery.com/jquery-2.1.4.min.js'></script>
    <script src="https://www.youtube.com/player_api"></script>
    <script>
      var vids = [];
      var ind = 0;

      $.getJSON('https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=PLEBF3sxzEgI45cOD1tHh7jOnz2_S4lRg2&key=AIzaSyAfgBwj-gsnyKWTYVD2fNJZVH8gZpBBig0', function(res) {
          for (var i=0; i<res.items.length; i++) {
            vids.push(res.items[i].snippet.resourceId.videoId);
          }
      });
    </script>
 

    <style>
      body { 
        margin: 0;
        padding: 0;
        zoom: 1.333;
        background: rgb(0, 216, 255);
      }
      #ytplayer {
        display: none;
      }
      #status {
        position: absolute;
        font-size: 30px;
        top: 10px;
        left: 10px;
      }
    </style>
  </head>
  <body>
  <!-- <div id='status'>hi</div> -->
  <div id="ytplayer"></div>
  <script src="https://www.youtube.com/player_api"></script>
  <script>

  function onYouTubeIframeAPIReady() {

    var player = new YT.Player('ytplayer', {
      height: 1920,
      width: 1080,
      playerVars: {
        autoplay: 1,
        controls: 1,
        disablekb: 0,
        enablejsapi: 1,
        fs: 0,
        modestbranding: 1,
        origin: 'localhost',
        rel: 0,
        showinfo: 0,
        loop: 1,
        start: 0//,
        //suggestedQuality: 'hd1080'
      },
      events: {
        'onReady': function (e) {
          e.target.loadVideoById(vids[ind], 0, 'hd1080');
          e.target.playVideo();
        },
        'onStateChange': function (e) {
          // vid is hidden until playing to eliminate youtube ui
          if (e.data === YT.PlayerState.PLAYING) {
            $('#ytplayer').css('display', 'block');
          } else if (e.data === YT.PlayerState.ENDED) {
            ind = (ind + 1) % vids.length;
            e.target.loadVideoById(vids[ind], 0, 'hd1080');
            e.target.playVideo();
          }
        },
        'onError': function(e) {
          console.log(e);
          location.reload(); 
        }//,
        // 'onPlaybackQualityChange': function(e) {
        //   var playbackQuality = e.target.getPlaybackQuality();
        //   var suggestedQuality = 'hd1080';
        //   $('#status').html('Quality changed to: ' + playbackQuality);
        // }
      }
    });
    
  }
  </script>
  
  </body>
</html>